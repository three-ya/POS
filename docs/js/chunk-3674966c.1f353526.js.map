{"version":3,"sources":["webpack:///./src/views/new-year/Print_insideDown.vue?af36","webpack:///./src/views/new-year/Print_insideDown.vue?d020","webpack:///src/views/new-year/Print_insideDown.vue","webpack:///./src/views/new-year/Print_insideDown.vue?9aaa","webpack:///./src/views/new-year/Print_insideDown.vue","webpack:///./src/assets/js/new-year/getOrderDoc.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","_l","page","pageIndex","key","staticClass","attrs","order","orderIndex","_v","_s","substr","length","_e","_m","staticRenderFns","component","sheet_ini","require","async","getOrderDoc","doc","module","exports"],"mappings":"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","file":"js/chunk-3674966c.1f353526.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Print_insideDown.vue?vue&type=style&index=0&id=5733a1e2&prod&scoped=true&lang=css\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._l((_vm.pages),function(page,pageIndex){return [_c('div',{key:'page-' + (pageIndex+1),staticClass:\"page\",attrs:{\"id\":'page_' + (pageIndex+1)}},[_c('div',{staticClass:\"subpage row g-0 h-100\"},_vm._l((page),function(order,orderIndex){return _c('div',{key:'order-' + orderIndex,staticClass:\"col-4 card-group fw-bold\"},[_c('div',{staticClass:\"order card\"},[_c('div',{staticClass:\"card-header d-flex justify-content-between\"},[_c('div',{staticClass:\"fs-4\"},[_vm._v(\" \"+_vm._s(order[\"內用用餐日期\"].substr(0, order[\"內用用餐日期\"].length - 3))+\" \"+_vm._s(order[\"時段代碼\"].substr(0, 1))+\" \")]),_c('div',{staticClass:\"fs-2\"},[_vm._v(_vm._s(order[\"內用訂桌姓名\"]))])]),_c('div',{staticClass:\"card-body\"},[(order['6380'] > 0 || order['7680'] > 0)?_c('div',{staticClass:\"pb-3\"},[(order['6380'] > 0)?_c('div',{staticClass:\"fs-3\"},[_vm._v(\"6380\"),_c('span',[_vm._v(\"×\"+_vm._s(order['6380']))])]):_vm._e(),(order['7680'] > 0)?_c('div',{staticClass:\"fs-3\"},[_vm._v(\"7680\"),_c('span',[_vm._v(\"×\"+_vm._s(order['7680']))])]):_vm._e()]):_vm._e(),(order['素食套餐'] > 0)?_c('div',[_c('div',{staticClass:\"fs-3\"},[_vm._v(\"素食 $400\"),_c('span',[_vm._v(\"×\"+_vm._s(order['素食套餐']))])])]):_vm._e(),(order['6380'] > 0 || order['7680'] > 0)?_c('div',{staticClass:\"pb-5\"},[_vm._m(0,true)]):_vm._e(),_c('div',{staticClass:\"pt-5\"},[_c('div',{staticClass:\"note\"},[_vm._v(\"備註：\")]),_c('p',{staticClass:\"fs-3\"},[_vm._v(_vm._s(order[\"櫃台備註\"]))])])]),_vm._m(1,true)])])}),0)])]})],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"fs-3\"},[_vm._v(\"飲料 $70\"),_c('span',[_vm._v(\"×\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-footer\"},[_c('div',[_c('div',{staticClass:\"fs-2\"},[_vm._v(\"合計: \")])])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <template v-for=\"(page, pageIndex) in pages\">\n      <div :key=\"'page-' + (pageIndex+1)\" :id=\"'page_' + (pageIndex+1)\" class=\"page\">\n        <div class=\"subpage row g-0 h-100\">\n          <div v-for=\"(order, orderIndex) in page\" :key=\"'order-' + orderIndex\" class=\"col-4 card-group fw-bold\">\n            <div class=\"order card\">\n              <div class=\"card-header d-flex justify-content-between\">\n                <div class=\"fs-4\">\n                  {{ order[\"內用用餐日期\"].substr(0, order[\"內用用餐日期\"].length - 3) }}\n                  {{ order[\"時段代碼\"].substr(0, 1) }}\n                </div>\n                <div class=\"fs-2\">{{ order[\"內用訂桌姓名\"] }}</div>\n              </div>\n              <div class=\"card-body\">\n                <div v-if=\"order['6380'] > 0 || order['7680'] > 0\" class=\"pb-3\">\n                  <div v-if=\"order['6380'] > 0\" class=\"fs-3\">6380<span>×{{ order['6380'] }}</span></div>\n                  <div v-if=\"order['7680'] > 0\" class=\"fs-3\">7680<span>×{{ order['7680'] }}</span></div>\n                </div>\n                <div v-if=\"order['素食套餐'] > 0\">\n                  <div class=\"fs-3\">素食 $400<span>×{{ order['素食套餐'] }}</span></div>\n                </div>\n                <div v-if=\"order['6380'] > 0 || order['7680'] > 0\" class=\"pb-5\">\n                  <div class=\"fs-3\">飲料 $70<span>×</span></div>\n                </div>\n                \n                <div class=\"pt-5\">\n                  <div class=\"note\">備註：</div>\n                  <p class=\"fs-3\">{{ order[\"櫃台備註\"] }}</p>\n                </div>\n              </div>\n              <div class=\"card-footer\">\n                <div>\n                  <div class=\"fs-2\">合計: </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </template>\n  </div>\n</template>\n\n<script>\nimport { getOrderDoc } from '@/assets/js/new-year/getOrderDoc';\n\nexport default {\n  name: 'Print_Customer',\n  data() {\n    return {\n      rows: [],\n      pages: []\n    }\n  },\n  created() {\n  },\n  mounted() {\n    this.paperPrint();\n  },\n  methods: {\n    async getSheet() {\n      const orderDoc = await getOrderDoc();\n      \n      let orderSheet = orderDoc.sheetsByTitle[\"初二內用\"];\n      \n      if (this.$route.params.date == \"212\") { \n        orderSheet = orderDoc.sheetsByTitle[\"初三內用\"];\n      }\n      if (this.$route.params.date == \"213\") { \n        orderSheet = orderDoc.sheetsByTitle[\"初四內用\"];\n      }\n\n      this.rows = await orderSheet.getRows();\n\n      let _customOrderList = [];\n      let _customOrders = [];\n      if (this.$route.query.custom) {\n        _customOrderList = this.$route.query.custom.split(\",\");\n        \n        if (_customOrderList.length > 0) {\n          for (let index = 0; index < this.rows.length; index++) {\n            const ele = this.rows[index];\n            \n            let _checkNumber = ele[\"內用訂桌姓名\"];\n            if (_customOrderList.includes(_checkNumber)) {\n              _customOrders.push(ele);\n            }\n          }\n        }\n      }\n\n      let _page = [];\n      let _printOrders = this.rows;\n      if (_customOrders.length > 0) {\n        _printOrders = _customOrders;\n      }\n      //清單\n      for (let index = 0; index < _printOrders.length; index++) {\n        const ele = _printOrders[index];\n        \n        ele[\"price\"] = ele[\"總金額\"] - ele[\"已收款\"];\n        _page.push(ele);\n        \n        if (index % 6 == 5) {\n          this.pages.push(_page);\n          _page = [];\n        } else if (index == (_printOrders.length -1)) {\n          this.pages.push(_page);\n        }\n      }\n    },\n    async paperPrint() {\n      await this.getSheet();\n      window.print();\n    }\n  }\n}\n</script>\n<style scoped>\n.page {\n    font-family: '標楷體';\n    font-size: 21.5px;\n    line-height: 1.1;\n    width: calc(210mm - 4px);\n    height: 1122px;\n    background: white;\n    margin: 10mm auto;\n    padding: 5px;\n}\n\n@page {\n    size: A4;\n    margin: 0 !important;\n}\n@media print {\n    html, body {\n        width: 210mm;\n        height: 297mm;        \n    }\n    .page {\n        margin: 0;\n        border: initial;\n        border-radius: initial;\n        width: initial;\n        min-height: initial;\n        box-shadow: initial;\n        background: initial;\n        page-break-after: always;\n    }\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Print_insideDown.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Print_insideDown.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Print_insideDown.vue?vue&type=template&id=5733a1e2&scoped=true\"\nimport script from \"./Print_insideDown.vue?vue&type=script&lang=js\"\nexport * from \"./Print_insideDown.vue?vue&type=script&lang=js\"\nimport style0 from \"./Print_insideDown.vue?vue&type=style&index=0&id=5733a1e2&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5733a1e2\",\n  null\n  \n)\n\nexport default component.exports","const {sheet_ini} = require('../sheet_ini');\r\n\r\nasync function getOrderDoc() {\r\n    const doc = await sheet_ini('1ZNfIxQwHuS5WzbIxU3rH7PY0FOVEKIBWqe6Z7_YpdNY');\r\n    \r\n    return doc;\r\n}\r\n\r\nmodule.exports = {\r\n    getOrderDoc,\r\n}"],"sourceRoot":""}